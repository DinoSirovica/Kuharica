<div class="editRecipe" *ngIf="activeUser" > <!--*ngIf="activeUser" -> osigurava da se stranica prikaže samo ako je korisnik ulogiran -->
    <a routerLink="/profil/moji-recepti">Natrag na pregled mojih recepata ←</a>
    <h1>Uređivanje recepta</h1>
    <div class="editRecipe__form">
        <form (ngSubmit)="onSubmit()" #signupForm="ngForm">
          <table>
            <tr>
              <td><h5>Naziv recepta:</h5></td>
              <td colspan="3">
                <div class="user-box">
                  <input type="text" name="recipeName" [(ngModel)]="recipe.naslov" required />
                  <label>Unesite naziv</label>
                </div>
              </td>
            </tr>
    
            <tr>
              <td><h5>Kategorija:</h5></td>
              <td colspan="3">
                <div class="user-box">
                  <select name="category" [(ngModel)]="recipe.kategorija_id" required>
                    <option value="" disabled selected hidden>Odaberi kategoriju</option>
                    <option *ngFor="let category of categories" [value]="category.id">
                      {{ category.ime }}
                    </option>
                  </select>
                </div>
              </td>
            </tr>
    
            <tr>
              <td colspan="3"><h5>Sastojci:</h5></td>
              <td style="text-align: right;">
                <button name="buttonAddIng" type="button" (click)="addIngredientRow()">+ Dodaj sastojak</button>
              </td>
            </tr>
    
            <tr *ngFor="let ingredient of ingredientsList; let i = index">
              <td></td>
              <td>
                <div class="user-box">
                  <select name="ingredient{{i}}" [(ngModel)]="ingredientsList[i].id" required>
                    <option value="" disabled selected hidden>Odaberi sastojak</option>
                    <option *ngFor="let ing of ingredients" [value]="ing.id">
                      {{ ing.ime }}
                    </option>
                  </select>
                </div>
              </td>
              <td>
                <div class="user-box">
                  <input type="text" name="ingredientTotal{{i}}" [(ngModel)]="ingredientsList[i].quantity" required />
                  <label>Unesite količinu</label>
                </div>
              </td>
              <td>
                <button name="buttonRemoveIng" type="button" (click)="removeIngredientRow(i)">✖</button>
              </td>
            </tr>
    
            <tr>
              <td><h5>Fotografija:</h5></td>
              <td colspan="3">
                <div class="user-box">
                  <input type="file" name="photo" (change)="onFileSelected($event)" accept="image/*" />
                </div>
              </td>
            </tr>
    
            <tr>
              <td colspan="4"><h5>Postupak:</h5></td>
            </tr>
            <tr>
              <td colspan="4">
                <div class="user-box">
                  <textarea name="recipeProcedure" [(ngModel)]="recipe.upute" required></textarea>
                </div>
              </td>
            </tr>
          </table>
    
          <button type="submit">
            Spremi recept
          </button>
        </form>
      </div>
</div>
